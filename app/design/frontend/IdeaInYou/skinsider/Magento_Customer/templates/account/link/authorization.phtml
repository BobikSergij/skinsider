<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/**
 * @var \Magento\Customer\Block\Account\AuthorizationLink $block
 * @var \Magento\Framework\Escaper $escaper
 */
$dataPostParam = '';
$accountlink = '';
$signOutLink = '';
if ($block->isLoggedIn()) {
    $dataPostParam = sprintf(" data-post='%s'", $block->getPostParams());
    $accountlink = $block->getBaseUrl() . '/customer/account/';
    $signOutLink = $block->getBaseUrl() . '/customer/account/logout/';
}
?>
<li class="link authorization-link" data-label="<?= $escaper->escapeHtml(__('or')) ?>">
    <?php if (!$block->isLoggedIn()): ?>
    <a <?= /* @noEscape */ $block->getLinkAttributes() ?>
        <?= /* @noEscape */ $dataPostParam ?>>
    <?php else: ?>
    <a>
    <?php endif; ?>
        <span><?= $escaper->escapeHtml(' My Account') ?></span>
    </a>
</li>

<script type="text/x-magento-init">
  {
     ".nav-toggle": {
         "mobileSearch": {}
     },
     ".authorization-link": {
         "myAccountPopup":{
             "isLoggedIn": "<?= $block->isLoggedIn() ?>",
             "accountlink": "<?= $accountlink ?>",
             "signOutLink": "<?= $signOutLink ?>"
         }
    }
  }
</script>

